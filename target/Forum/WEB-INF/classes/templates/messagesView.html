<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
  <link rel="stylesheet" href="//fonts.googleapis.com/css2?family=Material+Icons+Outlined&v=1648034229241">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css">
  <title>Личные сообщения</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<header th:insert="blocks/header :: header" ></header>

<body>
<div align="center">
    <a style="color:#222222"  th:href="'/usr/'+${usrnm}" >
      <h1 th:text="${usrnm}"/>
    </a>
  <br>
  Написать сообщение:
  <form method="post" th:action="'/msg/'+${id}+'/sndmsg'" th:object="${message}">
    <textarea style="width:40%; align:center" name="text" id ="text" placeholder="Сообщение" class="form-control"></textarea>
    <!--        <div style="color:red" th:if = "${#fields.hasErrors('text')}" th:errors="*{text}"></div>-->
    <button style="color:#ffffff" class="btn btn-success" type="submit">Написать сообщение</button>
  </form>
  <br>
  <div align="center" th:each="el:${msgs}" style="width:60%">
    <div class="rounded" align="center" style="background-color:#aaaaaa">
      <a style="color:#222222"  th:href="'/usr/'+${el.getFromName()}" >
        <h4 th:text="${el.getFromName()}"/>
      </a>
      <h5 th:text="${df2.format(df1.parse(el.getDate().toString()))}"/>
      <h2 th:text="${el.getText()}"/>
    </div>
  </div>
</div>
<footer th:insert="blocks/footer :: Footer"></footer>
</body>
</html>